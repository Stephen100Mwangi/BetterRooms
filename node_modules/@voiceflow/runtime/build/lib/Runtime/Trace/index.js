"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const general_types_1 = require("@voiceflow/general-types");
const Lifecycle_1 = require("../../Lifecycle");
class Trace {
    constructor(runtime) {
        this.runtime = runtime;
        this.trace = [];
    }
    addTrace(frame) {
        let stop = false;
        this.runtime.callEvent(Lifecycle_1.EventType.traceWillAdd, {
            frame,
            stop: () => {
                stop = true;
            },
        });
        if (stop)
            return;
        this.trace = [...this.trace, frame];
    }
    get() {
        return this.trace;
    }
    debug(message) {
        this.addTrace({ type: general_types_1.TraceType.DEBUG, payload: { message } });
    }
}
exports.default = Trace;
//# sourceMappingURL=index.js.map